<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class Bio::TogoWS::REST - BioRuby API documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
  var index_rel_prefix = "../../";
</script>

<script src="../../js/navigation.js" defer></script>
<script src="../../js/search.js" defer></script>
<script src="../../js/search_index.js" defer></script>
<script src="../../js/searcher.js" defer></script>
<script src="../../js/darkfish.js" defer></script>

<link href="../../css/fonts.css" rel="stylesheet">
<link href="../../css/rdoc.css" rel="stylesheet">


<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../table_of_contents.html#pages">Pages</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
<div class="nav-section">
  <h3>Table of Contents</h3>

  <ul class="link-list" role="directory">
    <li><a href="#class-Bio::TogoWS::REST-label-Description">Description</a>
    <li><a href="#class-Bio::TogoWS::REST-label-Examples">Examples</a>
    <li><a href="#class-Bio::TogoWS::REST-label-References">References</a>
  </ul>
</div>


  <div id="class-metadata">
    
    
<div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  <p class="link"><a href="../../Object.html">Object</a>
</div>

    
<div id="includes-section" class="nav-section">
  <h3>Included Modules</h3>

  <ul class="link-list">
    <li><a class="include" href="AccessWait.html">Bio::TogoWS::AccessWait</a>
  </ul>
</div>

    
    
<!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    <li ><a href="#method-c-convert">::convert</a>
    <li ><a href="#method-c-entry">::entry</a>
    <li ><a href="#method-c-entry_database_list">::entry_database_list</a>
    <li ><a href="#method-c-new">::new</a>
    <li ><a href="#method-c-retrieve">::retrieve</a>
    <li ><a href="#method-c-search">::search</a>
    <li ><a href="#method-c-search_database_list">::search_database_list</a>
    <li ><a href="#method-i-convert">#convert</a>
    <li ><a href="#method-i-entry">#entry</a>
    <li ><a href="#method-i-entry_database_list">#entry_database_list</a>
    <li ><a href="#method-i-internal_http">#internal_http</a>
    <li ><a href="#method-i-retrieve">#retrieve</a>
    <li ><a href="#method-i-search">#search</a>
    <li ><a href="#method-i-search_database_list">#search_database_list</a>
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-Bio::TogoWS::REST">
  <h1 id="class-Bio::TogoWS::REST" class="class">
    class Bio::TogoWS::REST
  </h1>

  <section class="description">
    
<h2 id="class-Bio::TogoWS::REST-label-Description">Description<span><a href="#class-Bio::TogoWS::REST-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p><a href="REST.html"><code>Bio::TogoWS::REST</code></a> is a <a href="REST.html"><code>REST</code></a> client for the <a href="../TogoWS.html"><code>TogoWS</code></a> web service.</p>

<p>Details of the service are desribed in the following URI.</p>
<ul><li>
<p><a href="http://togows.dbcls.jp/site/en/rest.html">togows.dbcls.jp/site/en/rest.html</a></p>
</li></ul>

<h2 id="class-Bio::TogoWS::REST-label-Examples">Examples<span><a href="#class-Bio::TogoWS::REST-label-Examples">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>For light users, class methods can be used.</p>

<pre class="ruby"><span class="ruby-identifier">print</span> <span class="ruby-constant">Bio</span><span class="ruby-operator">::</span><span class="ruby-constant">TogoWS</span><span class="ruby-operator">::</span><span class="ruby-constant">REST</span>.<span class="ruby-identifier">entry</span>(<span class="ruby-string">&#39;ncbi-nucleotide&#39;</span>, <span class="ruby-string">&#39;AF237819&#39;</span>)
<span class="ruby-identifier">print</span> <span class="ruby-constant">Bio</span><span class="ruby-operator">::</span><span class="ruby-constant">TogoWS</span><span class="ruby-operator">::</span><span class="ruby-constant">REST</span>.<span class="ruby-identifier">search</span>(<span class="ruby-string">&#39;uniprot&#39;</span>, <span class="ruby-string">&#39;lung cancer&#39;</span>)
</pre>

<p>For heavy users, an instance of the <a href="REST.html"><code>REST</code></a> class can be created, and using the instance is more efficient than using class methods.</p>

<pre class="ruby"><span class="ruby-identifier">t</span> = <span class="ruby-constant">Bio</span><span class="ruby-operator">::</span><span class="ruby-constant">TogoWS</span><span class="ruby-operator">::</span><span class="ruby-constant">REST</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">print</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">entry</span>(<span class="ruby-string">&#39;ncbi-nucleotide&#39;</span>, <span class="ruby-string">&#39;AF237819&#39;</span>)
<span class="ruby-identifier">print</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">search</span>(<span class="ruby-string">&#39;uniprot&#39;</span>, <span class="ruby-string">&#39;lung cancer&#39;</span>)
</pre>

<h2 id="class-Bio::TogoWS::REST-label-References"><a href="../References.html"><code>References</code></a><span><a href="#class-Bio::TogoWS::REST-label-References">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p><a href="http://togows.dbcls.jp/site/en/rest.html">togows.dbcls.jp/site/en/rest.html</a></p>
</li></ul>

  </section>

  <section id="5Buntitled-5D" class="documentation-section">


    <section class="constants-list">
      <header>
        <h3>Constants</h3>
      </header>
      <dl>
        <dt id="BASE_URI">BASE_URI
        <dd><p>URI of the <a href="../TogoWS.html"><code>TogoWS</code></a> <a href="REST.html"><code>REST</code></a> service</p>
        <dt id="DEFAULT_RETRIEVAL_DATABASES">DEFAULT_RETRIEVAL_DATABASES
        <dd><p>preset default databases used by the retrieve method.</p>
      </dl>
    </section>

    <section class="attribute-method-details" class="method-section">
      <header>
        <h3>Attributes</h3>
      </header>

      <div id="attribute-i-debug" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">debug</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        <p>If true, shows debug information to $stderr.</p>
        </div>
      </div>
    </section>


     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

      <div id="method-c-convert" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">convert</span><span
            class="method-args">(*arg)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>The same as <a href="REST.html#method-i-convert"><code>Bio::TogoWS::REST#convert</code></a>.</p>

          <div class="method-source-code" id="convert-source">
            <pre>    <span class="ruby-comment"># File lib/bio/io/togows.rb</span>
<span class="line-num">345</span> <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">convert</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arg</span>)
<span class="line-num">346</span>   <span class="ruby-keyword">self</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">convert</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arg</span>)
<span class="line-num">347</span> <span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-c-entry" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">entry</span><span
            class="method-args">(*arg)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>The same as <a href="REST.html#method-i-entry"><code>Bio::TogoWS::REST#entry</code></a>.</p>

          <div class="method-source-code" id="entry-source">
            <pre>    <span class="ruby-comment"># File lib/bio/io/togows.rb</span>
<span class="line-num">335</span> <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">entry</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arg</span>)
<span class="line-num">336</span>   <span class="ruby-keyword">self</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">entry</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arg</span>)
<span class="line-num">337</span> <span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-c-entry_database_list" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">entry_database_list</span><span
            class="method-args">(*arg)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>The same as <a href="REST.html#method-i-entry_database_list"><code>Bio::TogoWS::REST#entry_database_list</code></a></p>

          <div class="method-source-code" id="entry_database_list-source">
            <pre>    <span class="ruby-comment"># File lib/bio/io/togows.rb</span>
<span class="line-num">355</span> <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">entry_database_list</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arg</span>)
<span class="line-num">356</span>   <span class="ruby-keyword">self</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">entry_database_list</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arg</span>)
<span class="line-num">357</span> <span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-c-new" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">(uri = BASE_URI)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Creates a new object.</p>
<hr>

<p><strong>Arguments</strong>:</p>
<ul><li>
<p>(optional) <em>uri</em>: String or URI object</p>
</li></ul>
<dl class="rdoc-list note-list"><dt><strong>Returns</strong>
<dd>
<p>new object</p>
</dd></dl>

          <div class="method-source-code" id="new-source">
            <pre>    <span class="ruby-comment"># File lib/bio/io/togows.rb</span>
<span class="line-num">141</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">initialize</span>(<span class="ruby-identifier">uri</span> = <span class="ruby-constant">BASE_URI</span>)
<span class="line-num">142</span>   <span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">uri</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">URI</span>)
<span class="line-num">143</span>   <span class="ruby-ivar">@pathbase</span> = <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">path</span>
<span class="line-num">144</span>   <span class="ruby-ivar">@pathbase</span> = <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@pathbase</span> <span class="ruby-keyword">unless</span> <span class="ruby-regexp">/\A\//</span> <span class="ruby-operator">=~</span> <span class="ruby-ivar">@pathbase</span>
<span class="line-num">145</span>   <span class="ruby-ivar">@pathbase</span> = <span class="ruby-ivar">@pathbase</span> <span class="ruby-operator">+</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">unless</span> <span class="ruby-regexp">/\/\z/</span> <span class="ruby-operator">=~</span> <span class="ruby-ivar">@pathbase</span>
<span class="line-num">146</span>   <span class="ruby-ivar">@http</span> = <span class="ruby-constant">Bio</span><span class="ruby-operator">::</span><span class="ruby-constant">Command</span>.<span class="ruby-identifier">new_http</span>(<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">host</span>, <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">port</span>)
<span class="line-num">147</span>   <span class="ruby-ivar">@header</span> = {
<span class="line-num">148</span>     <span class="ruby-string">&#39;User-Agent&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-node">&quot;BioRuby/#{Bio::BIORUBY_VERSION_ID}&quot;</span>
<span class="line-num">149</span>   }
<span class="line-num">150</span>   <span class="ruby-ivar">@debug</span> = <span class="ruby-keyword">false</span>
<span class="line-num">151</span> <span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-c-retrieve" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">retrieve</span><span
            class="method-args">(*arg)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>The same as <a href="REST.html#method-i-retrieve"><code>Bio::TogoWS::REST#retrieve</code></a>.</p>

          <div class="method-source-code" id="retrieve-source">
            <pre>    <span class="ruby-comment"># File lib/bio/io/togows.rb</span>
<span class="line-num">350</span> <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">retrieve</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arg</span>)
<span class="line-num">351</span>   <span class="ruby-keyword">self</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">retrieve</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arg</span>)
<span class="line-num">352</span> <span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-c-search" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">search</span><span
            class="method-args">(*arg)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>The same as <a href="REST.html#method-i-search"><code>Bio::TogoWS::REST#search</code></a>.</p>

          <div class="method-source-code" id="search-source">
            <pre>    <span class="ruby-comment"># File lib/bio/io/togows.rb</span>
<span class="line-num">340</span> <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">search</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arg</span>)
<span class="line-num">341</span>   <span class="ruby-keyword">self</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">search</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arg</span>)
<span class="line-num">342</span> <span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-c-search_database_list" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">search_database_list</span><span
            class="method-args">(*arg)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>The same as <a href="REST.html#method-i-search_database_list"><code>Bio::TogoWS::REST#search_database_list</code></a></p>

          <div class="method-source-code" id="search_database_list-source">
            <pre>    <span class="ruby-comment"># File lib/bio/io/togows.rb</span>
<span class="line-num">360</span> <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">search_database_list</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arg</span>)
<span class="line-num">361</span>   <span class="ruby-keyword">self</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">search_database_list</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arg</span>)
<span class="line-num">362</span> <span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

    </section>

     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

      <div id="method-i-convert" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">convert</span><span
            class="method-args">(data, inputformat, format)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Data format conversion.</p>

<p>Example:</p>

<pre class="ruby"><span class="ruby-identifier">t</span> = <span class="ruby-constant">Bio</span><span class="ruby-operator">::</span><span class="ruby-constant">TogoWS</span><span class="ruby-operator">::</span><span class="ruby-constant">REST</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">blast_string</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-string">&#39;test.blastn&#39;</span>)
<span class="ruby-identifier">t</span>.<span class="ruby-identifier">convert</span>(<span class="ruby-identifier">blast_string</span>, <span class="ruby-string">&#39;blast&#39;</span>, <span class="ruby-string">&#39;gff&#39;</span>)
</pre>
<hr>

<p><strong>Arguments</strong>:</p>
<ul><li>
<p>(required) <em>text</em>: (String) input data</p>
</li><li>
<p>(required) <em>inputformat</em>: (String) data source format</p>
</li><li>
<p>(required) <em>format</em>: (String) output format</p>
</li></ul>
<dl class="rdoc-list note-list"><dt><strong>Returns</strong>
<dd>
<p>String or nil</p>
</dd></dl>

          <div class="method-source-code" id="convert-source">
            <pre>    <span class="ruby-comment"># File lib/bio/io/togows.rb</span>
<span class="line-num">310</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">convert</span>(<span class="ruby-identifier">data</span>, <span class="ruby-identifier">inputformat</span>, <span class="ruby-identifier">format</span>)
<span class="line-num">311</span>   <span class="ruby-identifier">response</span> = <span class="ruby-identifier">post_data</span>(<span class="ruby-identifier">data</span>, <span class="ruby-string">&#39;convert&#39;</span>, <span class="ruby-node">&quot;#{inputformat}.#{format}&quot;</span>)
<span class="line-num">312</span> 
<span class="line-num">313</span>   <span class="ruby-identifier">prepare_return_value</span>(<span class="ruby-identifier">response</span>)
<span class="line-num">314</span> <span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-entry" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">entry</span><span
            class="method-args">(database, ids, format = nil, field = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Retrieves entries corresponding to the specified IDs.</p>

<p>Example:</p>

<pre class="ruby"><span class="ruby-identifier">t</span> = <span class="ruby-constant">Bio</span><span class="ruby-operator">::</span><span class="ruby-constant">TogoWS</span><span class="ruby-operator">::</span><span class="ruby-constant">REST</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">kuma</span> = <span class="ruby-identifier">t</span>.<span class="ruby-identifier">entry</span>(<span class="ruby-string">&#39;ncbi-nucleotide&#39;</span>, <span class="ruby-string">&#39;AF237819&#39;</span>)
<span class="ruby-comment"># multiple IDs at a time</span>
<span class="ruby-identifier">misc</span> = <span class="ruby-identifier">t</span>.<span class="ruby-identifier">entry</span>(<span class="ruby-string">&#39;ncbi-nucleotide&#39;</span>, [ <span class="ruby-string">&#39;AF237819&#39;</span>, <span class="ruby-string">&#39;AF237820&#39;</span> ])
<span class="ruby-comment"># with format change</span>
<span class="ruby-identifier">p53</span> = <span class="ruby-identifier">t</span>.<span class="ruby-identifier">entry</span>(<span class="ruby-string">&#39;uniprot&#39;</span>, <span class="ruby-string">&#39;P53_HUMAN&#39;</span>, <span class="ruby-string">&#39;fasta&#39;</span>)
</pre>
<hr>

<p><strong>Arguments</strong>:</p>
<ul><li>
<p>(required) <em>database</em>: (String) database name</p>
</li><li>
<p>(required) <em>ids</em>: (String) an entry ID, or (Array containing String) IDs. Note that strings containing “,” are regarded as multiple IDs.</p>
</li><li>
<p>(optional) <em>format</em>: (String) format. nil means the default format (differs depending on the database).</p>
</li><li>
<p>(optional) <em>field</em>: (String) gets only the specified field if not nil</p>
</li></ul>
<dl class="rdoc-list note-list"><dt><strong>Returns</strong>
<dd>
<p>String or nil</p>
</dd></dl>

          <div class="method-source-code" id="entry-source">
            <pre>    <span class="ruby-comment"># File lib/bio/io/togows.rb</span>
<span class="line-num">241</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">entry</span>(<span class="ruby-identifier">database</span>, <span class="ruby-identifier">ids</span>, <span class="ruby-identifier">format</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">field</span> = <span class="ruby-keyword">nil</span>)
<span class="line-num">242</span>   <span class="ruby-keyword">begin</span>
<span class="line-num">243</span>     <span class="ruby-identifier">a</span> = <span class="ruby-identifier">ids</span>.<span class="ruby-identifier">to_ary</span>
<span class="line-num">244</span>   <span class="ruby-keyword">rescue</span> <span class="ruby-constant">NoMethodError</span>
<span class="line-num">245</span>     <span class="ruby-identifier">ids</span> = <span class="ruby-identifier">ids</span>.<span class="ruby-identifier">to_s</span>
<span class="line-num">246</span>   <span class="ruby-keyword">end</span>
<span class="line-num">247</span> 
<span class="line-num">248</span>   <span class="ruby-identifier">arg</span> = [ <span class="ruby-string">&#39;entry&#39;</span>, <span class="ruby-identifier">database</span> ]
<span class="line-num">249</span>   <span class="ruby-keyword">if</span> <span class="ruby-identifier">a</span> <span class="ruby-keyword">then</span>
<span class="line-num">250</span>     <span class="ruby-identifier">b</span> = <span class="ruby-identifier">a</span>.<span class="ruby-identifier">dup</span>
<span class="line-num">251</span>     (<span class="ruby-identifier">a</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">downto</span>(<span class="ruby-value">1</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">b</span>.<span class="ruby-identifier">insert</span>(<span class="ruby-identifier">i</span>, <span class="ruby-value">:&quot;,&quot;</span>) }
<span class="line-num">252</span>     <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">concat</span> <span class="ruby-identifier">b</span>
<span class="line-num">253</span>   <span class="ruby-keyword">else</span>
<span class="line-num">254</span>     <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">ids</span>
<span class="line-num">255</span>   <span class="ruby-keyword">end</span>
<span class="line-num">256</span> 
<span class="line-num">257</span>   <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">field</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">field</span>
<span class="line-num">258</span>   <span class="ruby-identifier">arg</span>[<span class="ruby-value">-1</span>] = <span class="ruby-node">&quot;#{arg[-1]}.#{format}&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">format</span>
<span class="line-num">259</span>   <span class="ruby-identifier">response</span> = <span class="ruby-identifier">get</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arg</span>)
<span class="line-num">260</span> 
<span class="line-num">261</span>   <span class="ruby-identifier">prepare_return_value</span>(<span class="ruby-identifier">response</span>)
<span class="line-num">262</span> <span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-entry_database_list" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">entry_database_list</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Returns list of available databases in the entry service.</p>
<hr>
<dl class="rdoc-list note-list"><dt><strong>Returns</strong>
<dd>
<p>Array containing String</p>
</dd></dl>

          <div class="method-source-code" id="entry_database_list-source">
            <pre>    <span class="ruby-comment"># File lib/bio/io/togows.rb</span>
<span class="line-num">319</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">entry_database_list</span>
<span class="line-num">320</span>   <span class="ruby-identifier">database_list</span>(<span class="ruby-string">&#39;entry&#39;</span>)
<span class="line-num">321</span> <span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-internal_http" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">internal_http</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Debug purpose only. Returns Net::HTTP object used inside the object. The method will be changed in the future if the implementation of this class is changed.</p>

          <div class="method-source-code" id="internal_http-source">
            <pre>    <span class="ruby-comment"># File lib/bio/io/togows.rb</span>
<span class="line-num">160</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">internal_http</span>
<span class="line-num">161</span>   <span class="ruby-ivar">@http</span>
<span class="line-num">162</span> <span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-retrieve" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">retrieve</span><span
            class="method-args">(ids, hash = {})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Intelligent version of the entry method. If two or more databases are specified, sequentially tries them until valid entry is obtained.</p>

<p>If database is not specified, preset default databases are used.  See <a href="REST.html#DEFAULT_RETRIEVAL_DATABASES"><code>DEFAULT_RETRIEVAL_DATABASES</code></a> for details.</p>

<p>When multiple IDs and multiple databases are specified, sequentially tries each IDs. Note that results with no hits found or with server errors are regarded as void strings. Also note that data format of the result entries can be different from entries to entries.</p>
<hr>

<p><strong>Arguments</strong>:</p>
<ul><li>
<p>(required) <em>ids</em>: (String) an entry ID, or (Array containing String) IDs. Note that strings containing “,”</p>
</li><li>
<p>(optional) <em>hash</em>: (Hash) options below can be passed as a hash.</p>
<ul><li>
<p>(optional) <em>:database</em>: (String) database name, or (Array containing String) database names.</p>
</li><li>
<p>(optional) <em>:format</em>: (String) format</p>
</li><li>
<p>(optional) <em>:field</em>: (String) gets only the specified field</p>
</li></ul>
</li></ul>
<dl class="rdoc-list note-list"><dt><strong>Returns</strong>
<dd>
<p>String or nil</p>
</dd></dl>

          <div class="method-source-code" id="retrieve-source">
            <pre>    <span class="ruby-comment"># File lib/bio/io/togows.rb</span>
<span class="line-num">186</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">retrieve</span>(<span class="ruby-identifier">ids</span>, <span class="ruby-identifier">hash</span> = {})
<span class="line-num">187</span>   <span class="ruby-keyword">begin</span>
<span class="line-num">188</span>     <span class="ruby-identifier">a</span> = <span class="ruby-identifier">ids</span>.<span class="ruby-identifier">to_ary</span>
<span class="line-num">189</span>   <span class="ruby-keyword">rescue</span> <span class="ruby-constant">NoMethodError</span>
<span class="line-num">190</span>     <span class="ruby-identifier">ids</span> = <span class="ruby-identifier">ids</span>.<span class="ruby-identifier">to_s</span>
<span class="line-num">191</span>   <span class="ruby-keyword">end</span>
<span class="line-num">192</span>   <span class="ruby-identifier">ids</span> = <span class="ruby-identifier">a</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&#39;,&#39;</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">a</span>
<span class="line-num">193</span>   <span class="ruby-identifier">ids</span> = <span class="ruby-identifier">ids</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&#39;,&#39;</span>)
<span class="line-num">194</span> 
<span class="line-num">195</span>   <span class="ruby-identifier">dbs</span> = <span class="ruby-identifier">hash</span>[<span class="ruby-value">:database</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">DEFAULT_RETRIEVAL_DATABASES</span>
<span class="line-num">196</span>   <span class="ruby-keyword">begin</span>
<span class="line-num">197</span>     <span class="ruby-identifier">dbs</span>.<span class="ruby-identifier">to_ary</span>
<span class="line-num">198</span>   <span class="ruby-keyword">rescue</span> <span class="ruby-constant">NoMethodError</span>
<span class="line-num">199</span>     <span class="ruby-identifier">dbs</span> = <span class="ruby-identifier">dbs</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">?</span> [] <span class="ruby-operator">:</span> [ <span class="ruby-identifier">dbs</span>.<span class="ruby-identifier">to_s</span> ]
<span class="line-num">200</span>   <span class="ruby-keyword">end</span>
<span class="line-num">201</span>   <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">dbs</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">ids</span>.<span class="ruby-identifier">empty?</span>
<span class="line-num">202</span> 
<span class="line-num">203</span>   <span class="ruby-keyword">if</span> <span class="ruby-identifier">dbs</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-keyword">then</span>
<span class="line-num">204</span>     <span class="ruby-keyword">return</span> <span class="ruby-identifier">entry</span>(<span class="ruby-identifier">dbs</span>[<span class="ruby-value">0</span>], <span class="ruby-identifier">ids</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-value">:format</span>], <span class="ruby-identifier">hash</span>[<span class="ruby-value">:field</span>])
<span class="line-num">205</span>   <span class="ruby-keyword">end</span>
<span class="line-num">206</span> 
<span class="line-num">207</span>   <span class="ruby-identifier">results</span> = []
<span class="line-num">208</span>   <span class="ruby-identifier">ids</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">idstr</span><span class="ruby-operator">|</span>
<span class="line-num">209</span>     <span class="ruby-identifier">dbs</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">dbstr</span><span class="ruby-operator">|</span>
<span class="line-num">210</span>       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">entry</span>(<span class="ruby-identifier">dbstr</span>, <span class="ruby-identifier">idstr</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-value">:format</span>], <span class="ruby-identifier">hash</span>[<span class="ruby-value">:field</span>])
<span class="line-num">211</span>       <span class="ruby-keyword">if</span> <span class="ruby-identifier">r</span> <span class="ruby-keyword">and</span> <span class="ruby-operator">!</span><span class="ruby-identifier">r</span>.<span class="ruby-identifier">strip</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword">then</span>
<span class="line-num">212</span>         <span class="ruby-identifier">results</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">r</span>
<span class="line-num">213</span>         <span class="ruby-keyword">break</span>
<span class="line-num">214</span>       <span class="ruby-keyword">end</span>
<span class="line-num">215</span>     <span class="ruby-keyword">end</span> <span class="ruby-comment">#dbs.each</span>
<span class="line-num">216</span>   <span class="ruby-keyword">end</span> <span class="ruby-comment">#ids.each</span>
<span class="line-num">217</span>   
<span class="line-num">218</span>   <span class="ruby-identifier">results</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&#39;&#39;</span>)
<span class="line-num">219</span> <span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-search" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">search</span><span
            class="method-args">(database, query, offset = nil, limit = nil, format = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Database search. Format of the search term string follows the Common Query Language.</p>
<ul><li>
<p><a href="http://en.wikipedia.org/wiki/Common_Query_Language">en.wikipedia.org/wiki/Common_Query_Language</a></p>
</li></ul>

<p>Example:</p>

<pre class="ruby"><span class="ruby-identifier">t</span> = <span class="ruby-constant">Bio</span><span class="ruby-operator">::</span><span class="ruby-constant">TogoWS</span><span class="ruby-operator">::</span><span class="ruby-constant">REST</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">print</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">search</span>(<span class="ruby-string">&#39;uniprot&#39;</span>, <span class="ruby-string">&#39;lung cancer&#39;</span>)
<span class="ruby-comment"># only get the 10th and 11th hit ID</span>
<span class="ruby-identifier">print</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">search</span>(<span class="ruby-string">&#39;uniprot&#39;</span>, <span class="ruby-string">&#39;lung cancer&#39;</span>, <span class="ruby-value">10</span>, <span class="ruby-value">2</span>)
<span class="ruby-comment"># with json format</span>
<span class="ruby-identifier">print</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">search</span>(<span class="ruby-string">&#39;uniprot&#39;</span>, <span class="ruby-string">&#39;lung cancer&#39;</span>, <span class="ruby-value">10</span>, <span class="ruby-value">2</span>, <span class="ruby-string">&#39;json&#39;</span>)
</pre>
<hr>

<p><strong>Arguments</strong>:</p>
<ul><li>
<p>(required) <em>database</em>: (String) database name</p>
</li><li>
<p>(required) <em>query</em>: (String) query string</p>
</li><li>
<p>(optional) <em>offset</em>: (Integer) offset in search results.</p>
</li><li>
<p>(optional) <em>limit</em>: (Integer) max. number of returned results. If offset is not nil and the limit is nil, it is set to 1.</p>
</li><li>
<p>(optional) <em>format</em>: (String) format. nil means the default format.</p>
</li></ul>
<dl class="rdoc-list note-list"><dt><strong>Returns</strong>
<dd>
<p>String or nil</p>
</dd></dl>

          <div class="method-source-code" id="search-source">
            <pre>    <span class="ruby-comment"># File lib/bio/io/togows.rb</span>
<span class="line-num">285</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">search</span>(<span class="ruby-identifier">database</span>, <span class="ruby-identifier">query</span>, <span class="ruby-identifier">offset</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">limit</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">format</span> = <span class="ruby-keyword">nil</span>)
<span class="line-num">286</span>   <span class="ruby-identifier">arg</span> = [ <span class="ruby-string">&#39;search&#39;</span>, <span class="ruby-identifier">database</span>, <span class="ruby-identifier">query</span> ]
<span class="line-num">287</span>   <span class="ruby-keyword">if</span> <span class="ruby-identifier">offset</span> <span class="ruby-keyword">then</span>
<span class="line-num">288</span>     <span class="ruby-identifier">limit</span> <span class="ruby-operator">||=</span> <span class="ruby-value">1</span>
<span class="line-num">289</span>     <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">concat</span> [ <span class="ruby-node">&quot;#{offset}&quot;</span>, <span class="ruby-value">:&quot;,&quot;</span>, <span class="ruby-node">&quot;#{limit}&quot;</span> ]
<span class="line-num">290</span>   <span class="ruby-keyword">end</span>
<span class="line-num">291</span>   <span class="ruby-identifier">arg</span>[<span class="ruby-value">-1</span>] = <span class="ruby-node">&quot;#{arg[-1]}.#{format}&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">format</span>
<span class="line-num">292</span>   <span class="ruby-identifier">response</span> = <span class="ruby-identifier">get</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arg</span>)
<span class="line-num">293</span> 
<span class="line-num">294</span>   <span class="ruby-identifier">prepare_return_value</span>(<span class="ruby-identifier">response</span>)
<span class="line-num">295</span> <span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-search_database_list" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">search_database_list</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Returns list of available databases in the search service.</p>
<hr>
<dl class="rdoc-list note-list"><dt><strong>Returns</strong>
<dd>
<p>Array containing String</p>
</dd></dl>

          <div class="method-source-code" id="search_database_list-source">
            <pre>    <span class="ruby-comment"># File lib/bio/io/togows.rb</span>
<span class="line-num">326</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">search_database_list</span>
<span class="line-num">327</span>   <span class="ruby-identifier">database_list</span>(<span class="ruby-string">&#39;search&#39;</span>)
<span class="line-num">328</span> <span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

    </section>

  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.3.2.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

